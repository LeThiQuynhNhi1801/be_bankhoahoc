# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Database Configuration
# Thay đổi IP này thành IP của laptop chứa MySQL
# IP Wi-Fi: 10.145.13.1 (nếu cùng mạng Wi-Fi)
spring.datasource.url=jdbc:mysql://10.145.13.163:3306/bankhoahoc?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8&allowPublicKeyRetrieval=true
# Cập nhật username và password phù hợp với user đã tạo trên MySQL laptop
# Nếu đã tạo user 'remote_user', dùng:
spring.datasource.username=remote_user
spring.datasource.password=your_password_here
# Nếu dùng root user (không khuyến nghị):
#spring.datasource.username=root
#spring.datasource.password=your_root_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
# Tắt open-in-view để tránh lazy loading sau khi transaction đóng
spring.jpa.open-in-view=false

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
file.upload-dir=uploads

# JWT Configuration
jwt.secret=mySecretKeyForJWTTokenGeneration12345678901234567890
# Token expiration: 1 hour (3600000 milliseconds)
jwt.expiration=3600000

# Payment Configuration (QR Code)
payment.qr.bank-name=MBBank
payment.qr.account-number=0397492326
payment.qr.account-name=LE THI QUYNH NHI
# Bank Code (BIN): MBBank = 970422, Vietcombank = 970436, VietinBank = 970415, BIDV = 970418
payment.qr.bank-code=970422

# VietQR API Configuration
# Sử dụng VietQR.io để generate QR code chuẩn (không cần API key, miễn phí)
vietqr.api.url=https://img.vietqr.io/image/
vietqr.enabled=true

# CORS Configuration
app.cors.allowed-origins=http://localhost:3000,http://localhost:3001

# Logging Configuration
logging.level.com.bankhoahoc=DEBUG
logging.level.org.springframework.web=INFO
# Giảm log SQL để dễ đọc khi debug
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.orm.jdbc.bind=WARN

# Swagger/OpenAPI Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.api-docs.enabled=true